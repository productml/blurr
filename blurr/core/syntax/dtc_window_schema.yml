Type: enum('ProductML:DTC:Window')
Version: enum('2018-03-01')
Description: str(min=1, required=False)
Name: identifier()
SourceDTC: identifier()
Time: expression(required=False)
When: expression(required=False)
Anchor: include('anchor')
Store: include('s3_store')
DataGroups: list(any(include('data_group_variable'), include('data_group_anchor')), min=1)

---

anchor:
  Condition: expression()
  Max: int(min=1, required=False)

data_group_variable:
  Name: identifier()
  Type: enum('ProductML:DTC:DataGroup:Variable')
  Store: identifier(required=False)
  When: expression(required=False)
  Fields: list(include('field'), min=1)

data_group_anchor:
  Name: identifier()
  Type: enum('ProductML:DTC:DataGroup:AnchorAggregate')
  When: expression(required=False)
  Window: include('window', required=False)
  Fields: list(include('field'), min=1)

window:
  Type: enum('Day', 'Hour', 'Count')
  Value: int()
  Source: identifier()

field:
  Name: identifier()
  Type: data_type(required=False)
  Value: expression()
  When: expression(required=False)
  Atomic: bool(required=False)

s3_store:
  Type: enum('ProductML:DTC:Storage:S3')
  Name: identifier()
  Bucket: identifier()
  Prefix: identifier()
