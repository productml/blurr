Type: enum('ProductML:DTC:Streaming')
Version: enum('2018-03-01')
Description: str(min=1, required=False)
Name: identifier()
Identity: expression()
Time: expression(required=False)
When: expression(required=False)
Store: include('dynamodb_store')
DataGroups: list(any(include('data_group_variable'), include('data_group_identity'), include('data_group_session')), min=1)

---

data_group_variable:
  Name: identifier()
  Type: enum('ProductML:DTC:DataGroup:VariableAggregate')
  Store: identifier(required=False)
  When: expression(required=False)
  Fields: list(include('field'), min=1)

data_group_identity:
  Name: identifier()
  Type: enum('ProductML:DTC:DataGroup:IdentityAggregate')
  Store: identifier(required=False)
  When: expression(required=False)
  Fields: list(include('field'), min=1)

data_group_session:
  Name: identifier()
  Type: enum('ProductML:DTC:DataGroup:SessionAggregate')
  Store: identifier(required=False)
  When: expression(required=False)
  Split: expression(required=False)
  Fields: list(include('field'), min=1)

field:
  Name: identifier()
  Type: data_type(required=False)
  Value: expression()
  When: expression(required=False)
  Atomic: bool(required=False)

dynamodb_store:
  Type: enum('ProductML:DTC:Storage:DynamoDB')
  Name: identifier()
  RetentionDays: int(min=1, required=False)
  ReadWriteUnits: int(min=1, required=False)
  Table: identifier()
